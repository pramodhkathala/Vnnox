===== Vnnox Configurator - Rendered HTML Capture =====

This file contains scripts and instructions to capture the rendered HTML from:
https://au.vnnox.com/care/#/schemeConf/generate
and optionally host it on GitHub Pages.

------------------------------------------------------------

===== Puppeteer Script: save_rendered_html.js =====

/*
Usage:
1) npm init -y
2) npm install puppeteer
3) node save_rendered_html.js

Output: rendered_page.html and rendered_page.png
*/

const fs = require('fs');
const puppeteer = require('puppeteer');

(async () => {
  const url = 'https://au.vnnox.com/care/#/schemeConf/generate';
  const browser = await puppeteer.launch({ headless: true, args: ['--no-sandbox','--disable-setuid-sandbox'] });
  const page = await browser.newPage();
  await page.setViewport({ width: 1366, height: 900 });
  console.log('Opening', url);
  await page.goto(url, { waitUntil: 'networkidle2', timeout: 120000 });
  await page.waitForTimeout(3000); // wait extra for SPA loading
  const html = await page.content();
  fs.writeFileSync('rendered_page.html', html, 'utf8');
  await page.screenshot({ path: 'rendered_page.png', fullPage: true });
  console.log('Saved rendered_page.html and rendered_page.png');
  await browser.close();
})();

------------------------------------------------------------

===== HTML Preview File: index.html =====

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Vnnox Configurator - Rendered</title>
  <style>
    body, html { height: 100%; margin: 0; }
    iframe { width: 100%; height: 100%; border: none; }
  </style>
</head>
<body>
  <iframe src="rendered_page.html"></iframe>
</body>
</html>

------------------------------------------------------------

===== GitHub Pages Instructions =====

1) Create a GitHub repository.
2) Save this file locally and extract `save_rendered_html.js` and `index.html`.
3) Run the Puppeteer script to generate rendered HTML:
   npm init -y
   npm install puppeteer
   node save_rendered_html.js
4) This generates:
   - rendered_page.html
   - rendered_page.png (optional)
5) Push all files to GitHub:
   git init
   git add .
   git commit -m "Initial commit"
   git branch -M main
   git remote add origin git@github.com:YOUR_USERNAME/REPO_NAME.git
   git push -u origin main
6) Enable GitHub Pages:
   - Option A: Use `gh-pages` branch
   - Option B: Use `docs/` folder in `main` branch
7) Your site will be live at:
   https://YOUR_USERNAME.github.io/REPO_NAME/

------------------------------------------------------------

===== Notes =====
- The rendered HTML may still reference external JS/CSS; full offline interactivity may not work.
- Adjust Puppeteer timeout or viewport if needed.
- For headless detection bypass (if needed), you can modify Puppeteer launch flags:
  --disable-blink-features=AutomationControlled
  and set navigator.webdriver = false.
